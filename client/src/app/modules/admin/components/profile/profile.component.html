<section id="blogs" class="wrapper">
    <div class="box bg-accent full-box admin-layout">
        <div class="d-flex jcb mb-2">
            <h2 class="accent admin-layout-title">My Profile</h2>
            <button type="button" mat-mini-fab (click)="enableEdit()">
                <mat-icon>create</mat-icon>
            </button>
        </div>

        <div class="content admin-layout-body">
            <form class="form" [formGroup]="form" (ngSubmit)="onSubmit()">
                <mat-card>
                    <mat-card-header>
                        <mat-card-title>
                            <img mat-card-avatar [src]="profileData.photo" class="avatar-img" (click)="uploadImage()"
                                alt="{{profileData.name}}">
                        </mat-card-title>
                    </mat-card-header>
                    <mat-card-content>
                        <mat-form-field class="full-width">
                            <input matInput type="text" name="userName" formControlName="userName"
                                placeholder="User Name" required="true">
                            <mat-error *ngIf="userName.hasError('required')">
                                userName is required
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field class="full-width">
                            <input matInput type="text" name="name" formControlName="name" placeholder="Name"
                                required="true">
                            <mat-error *ngIf="name.hasError('required')">
                                Name is required
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field class="full-width">
                            <input matInput type="text" name="email" formControlName="email" placeholder="Email"
                                required="true">
                            <mat-error *ngIf="email.hasError('required')">
                                Email is required
                            </mat-error>
                            <mat-error *ngIf="email.hasError('email')">
                                Not a valid email
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field class="full-width">
                            <input matInput type="text" name="role" formControlName="role" placeholder="Role"
                                required="true">
                            <mat-error *ngIf="role.hasError('required')">
                                Role is required
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field class="full-width">
                            <textarea matInput cdkTextareaAutosize name="bio" formControlName="bio" placeholder="Bio"
                                required="true"></textarea>
                            <mat-error *ngIf="bio.hasError('required')">
                                Bio is required
                            </mat-error>

                        </mat-form-field>
                        <button type="submit" *ngIf="editEnabled" mat-raised-button [disabled]="form.invalid"
                            color="primary" class="btn-sm my-1">
                            Edit Profile
                        </button>
                    </mat-card-content>
                </mat-card>
            </form>
        </div>
    </div>
</section>